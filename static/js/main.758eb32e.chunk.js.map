{"version":3,"sources":["components/Logo/index.tsx","services/npms.ts","components/SearchInput/index.tsx","Home.tsx","utils/package.ts","services/api.ts","utils/format.ts","components/PackageStats/Stat.tsx","components/PackageStats/index.tsx","components/PackageHistory/Charts.tsx","components/PackageHistory/index.tsx","Result.tsx","Credits.tsx","components/Theme/index.tsx","components/Header/index.tsx","components/Footer/index.tsx","components/Layout/index.tsx","index.tsx"],"names":["Logo","props","xmlns","viewBox","fill","d","getPackagesSuggestions","query","a","suggestionSort","packageA","packageB","Math","abs","log","searchScore","score","detail","popularity","ky","get","json","suggestions","sort","useStyles","makeStyles","theme","createStyles","container","position","breakpoints","down","width","input","background","palette","common","white","color","spinner","marginRight","spacing","suggestionsContainer","left","right","maxHeight","overflow","suggestionsList","margin","padding","listStyleType","suggestion","lineHeight","fontWeight","fontStyle","suggestionDescription","textOverflow","Search","initialValue","onSelect","otherProps","classes","React","useState","inputValue","setInputValue","setSuggestions","isSearching","setIsSearching","useEffect","useDebouncedCallback","value","fetchSuggestions","id","onChange","package","name","onInputValueChange","itemToString","defaultHighlightedIndex","getInputProps","getItemProps","getLabelProps","getMenuProps","highlightedIndex","isOpen","openMenu","closeMenu","placeholder","onFocus","onBlur","e","nativeEvent","preventDownshiftDefault","inputProps","className","TextField","variant","root","InputLabelProps","InputProps","startAdornment","InputAdornment","endAdornment","CircularProgress","size","thickness","Paper","square","map","index","MenuItem","item","selected","dense","key","dangerouslySetInnerHTML","__html","highlight","Typography","component","description","height","display","flexDirection","justifyContent","alignItems","textAlign","logo","marginBottom","red","primary","main","search","marginTop","up","Home","history","push","trim","getNameAndVersion","includes","startsWith","lastAtIndex","lastIndexOf","substring","version","split","API_URL","getPackageInfo","packageUtils","searchParams","timeout","info","getPackageHistory","formatSize","unit","log10","DownloadSpeed","statsRow","number","animation","from","transform","to","Stat","title","unitType","formatUtils","round","roundedSize","parseFloat","toFixed","useId","htmlId","aria-labelledby","textTransform","grey","divider","PackageStats","sizeInBytes","times","twoG","gzip","threeG","Divider","paddingBottom","bar","cursor","bottom","darken","secondary","sizeBar","borderRadius","transition","transformOrigin","gzipBar","borderBottomLeftRadius","borderBottomRightRadius","barLabel","opacity","Charts","maxSize","max","gzipSize","gzipUnit","normalSize","normalUnit","roundedGzip","roundedNormal","tooltipTitle","Tooltip","aria-label","placement","onClick","style","PackageHistory","packageHistory","setPackageHistory","isFetchingHistory","setIsFetchingHistory","api","pHistory","call","searchInput","infoRow","gridTemplateRows","gridGap","gridTemplateColumns","card","cardContent","Result","location","searchValue","setSearchValue","packageInfo","setPackageInfo","isFetchingInfo","setIsFetchingInfo","onNewSearch","useCallback","replace","p","qs","parse","newSearch","currentSearch","Card","CardContent","Credits","Link","href","target","createMuiTheme","Theme","children","ThemeProvider","header","alignSelf","headerLink","textDecoration","Header","footer","RouterLink","maxWidth","content","minHeight","Layout","Footer","ReactDOM","render","CssBaseline","path","exact","document","getElementById"],"mappings":"kOA2CeA,EArCe,SAAAC,GAC5B,OACE,wBAASA,EACP,yBAAKC,MAAM,6BAA6BC,QAAQ,eAC9C,0BACEC,KAAK,UACLC,EAAE,wKAEJ,0BACEA,EAAE,6KACFD,KAAK,YAEP,0BACEA,KAAK,UACLC,EAAE,mGAEJ,0BAAMD,KAAK,UAAUC,EAAE,+DACvB,0BACED,KAAK,UACLC,EAAE,wEAEJ,0BACED,KAAK,UACLC,EAAE,kFAEJ,0BACEA,EAAE,kZACFD,KAAK,YAEP,uBAAGA,KAAK,WACN,0BAAMC,EAAE,yuB,4HCbLC,EAAsB,sCAAG,WAAOC,GAAP,iBAAAC,EAAA,4DAC9BC,EAAiB,SAACC,EAAsBC,GAI5C,OAAIC,KAAKC,IAAID,KAAKE,IAAIH,EAASI,aAAeH,KAAKE,IAAIJ,EAASK,cAAgB,EACvEJ,EAASI,YAAcL,EAASK,YAEhCJ,EAASK,MAAMC,OAAOC,WAAaR,EAASM,MAAMC,OAAOC,YARhC,kBAYMC,IACrCC,IADqC,sDACcb,IACnDc,OAd+B,cAY5BC,EAZ4B,yBAe3BA,EAAYC,KAAKd,IAfU,yDAiB3B,IAjB2B,uDAAH,sDCF7Be,EAAYC,YAAW,SAACC,GAAD,OAC3BC,YAAa,CACXC,UAAU,aACRC,SAAU,YACTH,EAAMI,YAAYC,KAAK,MAAQ,CAC9BC,MAAO,SAGXC,MAAO,CACLC,WAAYR,EAAMS,QAAQC,OAAOC,MACjCC,MAAO,UACPN,MAAO,QAETO,QAAS,CACPC,YAAad,EAAMe,QAAQ,IAE7BC,qBAAsB,CACpBb,SAAU,WACVc,KAAM,EACNC,MAAO,EACPC,UAAW,OACXC,SAAU,QAEZC,gBAAiB,CACfC,OAAQ,EACRC,QAAS,EACTC,cAAe,QAEjBC,WAAY,CACVC,WAAY,IACZH,QAAS,QACTjB,MAAO,OACP,OAAQ,CACNqB,WAAY,OACZC,UAAW,WAGfC,sBAAuB,CACrBC,aAAc,WACdV,SAAU,cAKD,SAASW,EAAT,GAAmE,IAAjDC,EAAgD,EAAhDA,aAAcC,EAAkC,EAAlCA,SAAaC,EAAqB,2CACzEC,EAAUrC,IAD+D,EAE3CsC,IAAMC,SAASL,GAAgB,IAFY,mBAExEM,EAFwE,KAE5DC,EAF4D,OAGzCH,IAAMC,SAAuB,IAHY,mBAGxEzC,EAHwE,KAG3D4C,EAH2D,OAIzCJ,IAAMC,UAAS,GAJ0B,mBAIxEI,EAJwE,KAI3DC,EAJ2D,KAM/EN,IAAMO,UAAU,WACVX,GACFO,EAAcP,IAEf,CAACA,IAEJ,IAZ+E,EAgBpDY,+BAAoB,sCAAC,WAAOC,GAAP,eAAA/D,EAAA,4DAC9C4D,GAAe,GAD+B,SAEpB9D,EAAuBiE,GAFH,OAExCjD,EAFwC,OAG9C4C,EAAe5C,GACf8C,GAAe,GAJ+B,yCAAD,sDAK5C,KALII,EAhBwE,oBA8B/E,OACE,wBAASZ,EACP,kBAAC,IAAD,CACEa,GAAG,mBACHT,WAAYA,EACZU,SAvBuB,SAACvB,GAC5BQ,EAASR,EAAWwB,QAAQC,OAuBxBC,mBAbqB,SAACN,GAC1BN,EAAcM,GACVA,GACFC,EAAiBD,IAWfO,aAAc,SAAC3B,GAAD,OACZA,EAAaA,EAAWwB,QAAQC,KAAO,IAEzCG,wBAAyB,GAExB,YAUM,IATLC,EASI,EATJA,cACAC,EAQI,EARJA,aACAC,EAOI,EAPJA,cACAC,EAMI,EANJA,aACAC,EAKI,EALJA,iBAEAC,GAGI,EAJJrB,WAII,EAHJqB,QACAC,EAEI,EAFJA,SACAC,EACI,EADJA,UACI,EACuCP,EAAc,CACvDQ,YAAa,eACbC,QAASH,EACTI,OAAQ,SAACC,GACPJ,IAEAI,EAAEC,YAAYC,yBAA0B,KANpCH,EADJ,EACIA,OAAQD,EADZ,EACYA,QAAYK,EADxB,oCAWJ,OACE,yBAAKC,UAAWlC,EAAQjC,WACtB,kBAACoE,EAAA,EAAD,CACEpB,KAAK,SACLqB,QAAQ,WACRpC,QAAS,CACPqC,KAAMrC,EAAQ5B,OAEhBkE,gBAAiBjB,IACjBkB,WAAY,CACVV,SACAD,UACAY,eACE,kBAACC,EAAA,EAAD,CAAgBzE,SAAS,SACvB,kBAAC,IAAD,CAAYS,MAAM,aAGtBiE,aAAcpC,GACZ,kBAACmC,EAAA,EAAD,CAAgBzE,SAAS,OACvB,kBAAC2E,EAAA,EAAD,CACElE,MAAM,YACNmE,KAAM,GACNC,UAAW,EACXX,UAAWlC,EAAQtB,YAK3BuD,WAAYA,IAEd,yCAASX,IAAT,CAAyBY,UAAWlC,EAAQnB,uBACzC2C,EACC,kBAACsB,EAAA,EAAD,CAAOC,QAAM,GACVtF,EAAYuF,IAAI,SAAC1D,EAAY2D,GAAb,OACf,kBAACC,EAAA,EAAD,iBACM9B,EAAa,CAAE+B,KAAM7D,IAD3B,CAEE8D,SAAU7B,IAAqB0B,EAC/BI,OAAK,EACLC,IAAKhE,EAAWwB,QAAQC,OAExB,yBAAKmB,UAAWlC,EAAQV,YACtB,yBAAKiE,wBAAyB,CAAEC,OAAQlE,EAAWmE,aACnD,kBAACC,EAAA,EAAD,CACEtB,QAAQ,UACRuB,UAAU,MACVzB,UAAWlC,EAAQN,uBAElBJ,EAAWwB,QAAQ8C,kBAM5B,UC9KpB,IAAMjG,EAAYC,YAAW,SAACC,GAAD,OAC3BC,YAAa,CACXuE,KAAM,CACJwB,OAAQ,OACRC,QAAS,OACTC,cAAe,SACfC,eAAgB,SAChBC,WAAY,SACZC,UAAW,UAEbC,KAAM,CACJhG,MAAO,IACP0F,OAAQ,IACRO,aAAcvG,EAAMe,QAAQ,IAE9ByF,IAAK,CACH5F,MAAOZ,EAAMS,QAAQgG,QAAQC,MAE/BC,OAAO,aACLC,UAAW5G,EAAMe,QAAQ,GACzBwF,aAAc,OACdjG,MAAO,QACNN,EAAMI,YAAYyG,GAAG,MAAQ,CAC5BvG,MAAO,UA6BAwG,EAvB6B,SAAC,GAAiB,IAAfC,EAAc,EAAdA,QACvC5E,EAAUrC,IAQhB,OACE,yBAAKuE,UAAWlC,EAAQqC,MACtB,kBAAC,EAAD,CAAMH,UAAWlC,EAAQmE,OACzB,kBAACT,EAAA,EAAD,CAAYtB,QAAQ,KAAKuB,UAAU,MAAnC,SACQ,0BAAMzB,UAAWlC,EAAQqE,KAAzB,SAER,kBAACX,EAAA,EAAD,CAAYtB,QAAQ,aAApB,wDAGA,kBAAC,EAAD,CAAatC,SAfA,SAACY,GACZA,GACFkE,EAAQC,KAAR,oBAA0BnE,EAAMoE,UAaC5C,UAAWlC,EAAQwE,W,mCCtD7CO,EAAoB,SAACrI,GAChC,GAAIA,EAAMsI,SAAS,KAAM,CACvB,GAAItI,EAAMuI,WAAW,KAAM,CACzB,IAAMC,EAAcxI,EAAMyI,YAAY,KACtC,OAAoB,IAAhBD,EACK,CAAEnE,KAAMrE,GAER,CACLqE,KAAMrE,EAAM0I,UAAU,EAAGF,GACzBG,QAAS3I,EAAM0I,UAAUF,EAAc,IAGrC,IAAD,EACmBxI,EAAM4I,MAAM,KAD/B,mBAEL,MAAO,CAAEvE,KAFJ,KAEUsE,QAFV,MAKT,MAAO,CAAEtE,KAAMrE,I,mjBCOjB,IAAM6I,EAEA,8DAGOC,EAAc,sCAAG,WAAO9I,GAAP,qBAAAC,EAAA,8DACF8I,EAA+B/I,GAAjDqE,EADoB,EACpBA,KAAMsE,EADc,EACdA,QADc,kBAGM/H,IAC7BC,IAD6B,UACtBgI,EADsB,UACL,CACvBG,aAAa,EAAD,CACV3E,QACIsE,GAAW,CAAEA,YAEnBM,QAAS,MAEVnI,OAXuB,cAGpBoI,EAHoB,yBAYnBA,GAZmB,yDAcnB,MAdmB,uDAAH,sDAkBdC,EAAiB,sCAAG,WAAO9E,GAAP,eAAApE,EAAA,8EAESW,IACnCC,IADmC,UAC5BgI,EAD4B,YACT,CACzBG,aAAc,CACZ3E,QAEF4E,QAAS,MAEVnI,OAT0B,cAEvBoH,EAFuB,yBAUtBA,GAVsB,yDAYtB,MAZsB,uDAAH,sD,iBC7CjBkB,EAAa,SAACpF,GACzB,IAAIqF,EAAMnD,EAYV,OAXI7F,KAAKiJ,MAAMtF,GAAS,GACtBqF,EAAO,IACPnD,EAAOlC,GACE3D,KAAKiJ,MAAMtF,GAAS,GAC7BqF,EAAO,KACPnD,EAAOlC,EAAQ,OAEfqF,EAAO,KACPnD,EAAOlC,EAAQ,KAAO,MAGjB,CAAEqF,OAAMnD,SAgBXqD,EACG,GADHA,EAEK,GCrBLtI,EAAYC,YAAW,SAACC,GAAD,OAC3BC,YAAa,CACXoI,SAAU,CACRpC,QAAS,OACTE,eAAgB,gBAElBmC,OAAQ,CACNC,UAAW,sBAEbL,KAAM,CACJtH,MAAOZ,EAAMS,QAAQgG,QAAQC,MAE/B,kBAAmB,CACjB8B,KAAM,CACJC,UAAW,YAEbC,GAAI,CACFD,UAAW,iBA6BJE,EAvBe,SAAC,GAAgC,IAA9BC,EAA6B,EAA7BA,MAAO/F,EAAsB,EAAtBA,MAAOgG,EAAe,EAAfA,SACvC1G,EAAUrC,IAD4C,EAG7C,SAAb+I,EAAsBC,EAAuBjG,GDpBvB,SAACA,GACzB,IAAIqF,EAAMnD,EASV,OARIlC,EAAQ,IACVqF,EAAO,KACPnD,EAAO7F,KAAK6J,MAAc,IAARlG,KAElBqF,EAAO,IACPnD,EAAOlC,GAGF,CAAEqF,OAAMnD,QCUyC+D,CAAuBjG,GADvEkC,EAFoD,EAEpDA,KAAMmD,EAF8C,EAE9CA,KAERc,EACS,SAAbH,EAAsBI,WAAWlE,EAAKmE,QAAQ,IAAMD,WAAWlE,EAAKmE,QAAQ,IALlB,EAM3CC,kBAAVC,EANqD,oBAO5D,OACE,6BACE,yBAAKC,kBAAiBD,EAAQ/E,UAAWlC,EAAQmG,QAC/C,kBAACzC,EAAA,EAAD,CAAYtB,QAAQ,KAAKuB,UAAU,QAChCkD,GAEH,kBAACnD,EAAA,EAAD,CAAYtB,QAAQ,KAAKuB,UAAU,OAAOzB,UAAWlC,EAAQ+F,MAC1DA,GACW,KAEhB,kBAACrC,EAAA,EAAD,CAAY9C,GAAIqG,EAAQ7E,QAAQ,YAC7BqE,KC1CH9I,EAAYC,YAAW,SAACC,GAAD,OAC3BC,YAAa,CACXuE,KAAM,CACJyB,QAAS,OACTC,cAAe,SACfC,eAAgB,SAChBH,OAAQ,QAEVqC,SAAU,CACRpC,QAAS,OACTE,eAAgB,gBAElByC,MAAO,CACLrC,aAAcvG,EAAMe,QAAQ,GAC5BuI,cAAe,YACf1I,MAAOZ,EAAMS,QAAQ8I,KAAK,MAE5BC,QAAS,CACPlI,OAAQtB,EAAMe,QAAQ,EAAG,QA4BhB0I,EAvBuB,SAAC,GAAc,IFCrBC,EEDS3B,EAAW,EAAXA,KACjC5F,EAAUrC,IACV6J,EFAC,CACLC,MAF4BF,EECY3B,EAAK8B,MFCzB,KAAOzB,EAC3B0B,OAAQJ,EAAc,KAAOtB,GED/B,OACE,yBAAK/D,UAAWlC,EAAQqC,MACtB,kBAACqB,EAAA,EAAD,CAAYtB,QAAQ,KAAKF,UAAWlC,EAAQyG,OAA5C,eAGA,yBAAKvE,UAAWlC,EAAQkG,UACtB,kBAAC,EAAD,CAAMO,MAAM,WAAW/F,MAAOkF,EAAKhD,KAAM8D,SAAS,SAClD,kBAAC,EAAD,CAAMD,MAAM,qBAAqB/F,MAAOkF,EAAK8B,KAAMhB,SAAS,UAE9D,kBAACkB,EAAA,EAAD,CAAS1F,UAAWlC,EAAQqH,UAC5B,kBAAC3D,EAAA,EAAD,CAAYtB,QAAQ,KAAKF,UAAWlC,EAAQyG,OAA5C,iBAGA,yBAAKvE,UAAWlC,EAAQkG,UACtB,kBAAC,EAAD,CAAMO,MAAM,UAAU/F,MAAO8G,EAAMC,KAAMf,SAAS,SAClD,kBAAC,EAAD,CAAMD,MAAM,cAAc/F,MAAO8G,EAAMG,OAAQjB,SAAS,Y,4BCzC1D/I,GAAYC,YAAW,SAACC,GAAD,OAC3BC,YAAa,CACXuE,KAAK,aACHlE,MAAO,OACP0F,OAAQ,OACR7E,UAAW,IACX6I,cAAe,GACf/D,QAAS,OACTE,eAAgB,SAChBC,WAAY,YACXpG,EAAMI,YAAYyG,GAAG,MAAQ,CAC5Bb,OAAQ,SAGZiE,IAAK,CACHC,OAAQ,UACR5I,OAAQtB,EAAMe,QAAQ,EAAG,GACzBT,MAAO,GACPH,SAAU,WACVgK,OAAQ,EACR,oBAAqB,CACnB3J,WAAY4J,aAAOpK,EAAMS,QAAQ4J,UAAU3D,KAAM,KAEnD,oBAAqB,CACnBlG,WAAY4J,aAAOpK,EAAMS,QAAQgG,QAAQC,KAAM,KAEjD,qBAAsB,CACpB/E,WAAY,SAGhB2I,QAAS,CACP9J,WAAYR,EAAMS,QAAQ4J,UAAU3D,KACpCpG,MAAO,OACP0F,OAAQ,OACRuE,aAAc,EACdC,WAAY,kBACZC,gBAAiB,YACjBlC,UAAW,sBAEbmC,QAAS,CACPvK,SAAU,WACVgK,OAAQ,EACR3J,WAAYR,EAAMS,QAAQgG,QAAQC,KAClCpG,MAAO,OACPqK,uBAAwB,EACxBC,wBAAyB,EACzBJ,WAAY,kBACZC,gBAAiB,YACjBlC,UAAW,sBAEbsC,SAAU,CACR1K,SAAU,WACVgK,QAAS,GACTlJ,KAAM,EACNwH,UAAW,iBACXqC,QAAS,EACTvC,UAAW,oCAEb,kBAAmB,CACjBC,KAAM,CACJC,UAAW,aAEbC,GAAI,CACFD,UAAW,cAGf,kBAAmB,CACjBD,KAAM,CACJsC,QAAS,GAEXpC,GAAI,CACFoC,QAAS,QA2CFC,GArCiB,SAAC,GAA2B,IAAzBhE,EAAwB,EAAxBA,QAAS9E,EAAe,EAAfA,SACpCE,EAAUrC,KACVkL,EAAU9L,KAAK+L,IAAL,MAAA/L,KAAI,aAAQ6H,EAAQ5B,IAAI,SAAAG,GAAI,OAAIA,EAAKP,SAErD,OACE,4BAAQV,UAAWlC,EAAQqC,MACxBuC,EAAQ5B,IAAI,SAAAG,GAAS,IAAD,EACwBwD,EAAuBxD,EAAKuE,MAAzDqB,EADK,EACXnG,KAAsBoG,EADX,EACKjD,KADL,EAE4BY,EAAuBxD,EAAKP,MAA7DqG,EAFK,EAEXrG,KAAwBsG,EAFb,EAEOnD,KACpBoD,EAAcrC,WAAWiC,EAAShC,QAAQ,IAC1CqC,EAAgBtC,WAAWmC,EAAWlC,QAAQ,IAE9CsC,EAAY,oBAAgBD,GAAhB,OAAgCF,EAAhC,uBAAyDC,GAAzD,OAAuEH,GACzF,OACE,kBAACM,GAAA,EAAD,CACE7C,MAAO4C,EACPE,aAAA,UAAepG,EAAKkC,QAApB,aAAgCgE,GAChCG,UAAU,MACVlG,IAAKH,EAAKkC,QACVoE,QAAS,kBAAM3J,EAASqD,EAAKkC,WAE7B,yBAAKnD,UAAWlC,EAAQ8H,IAAK4B,MAAO,CAAE7F,OAAO,GAAD,OAAMV,EAAKP,KAAOiG,EAAW,IAA7B,OAC1C,yBAAK3G,UAAWlC,EAAQmI,UACxB,yBACEjG,UAAWlC,EAAQuI,QACnBmB,MAAO,CAAE7F,OAAO,GAAD,OAAMV,EAAKuE,KAAOvE,EAAKP,KAAQ,IAA/B,QAEjB,kBAACc,EAAA,EAAD,CAAYtB,QAAQ,UAAUF,UAAWlC,EAAQ0I,UAC9CvF,EAAKkC,eCzGhB1H,GAAYC,YAAW,SAACC,GAAD,OAC3BC,YAAa,CACXuE,KAAM,CACJyB,QAAS,OACTE,eAAgB,SAChBC,WAAY,SACZJ,OAAQ,YAoCC8F,GA/ByB,SAAC,GAAwB,IAAtB5I,EAAqB,EAArBA,KAAMjB,EAAe,EAAfA,SACzCE,EAAUrC,KAD8C,EAElBsC,IAAMC,SAAoC,MAFxB,mBAEvD0J,EAFuD,KAEvCC,EAFuC,OAGZ5J,IAAMC,UAAS,GAHH,mBAGvD4J,EAHuD,KAGpCC,EAHoC,KAmB9D,OAdA9J,IAAMO,UAAU,WAAM,2CACpB,4BAAA7D,EAAA,4DACEoN,GAAqB,GADvB,kBAG2BC,EAAsBjJ,GAHjD,OAGUkJ,EAHV,OAIIJ,EAAkBI,GAJtB,gDAMIJ,EAAkB,MANtB,QAQEE,GAAqB,GARvB,wDADoB,uBAAC,WAAD,wBAWpBG,IACC,CAACnJ,IAGF,yBAAKmB,UAAWlC,EAAQqC,MACrByH,EACC,kBAACnH,EAAA,EAAD,CAAkBC,KAAM,KACtBgH,EACF,kBAAC,GAAD,CAAQhF,QAASgF,EAAgB9J,SAAUA,IAE3C,kBAAC4D,EAAA,EAAD,CAAYtB,QAAQ,aAApB,2BCrCFzE,GAAYC,YAAW,SAACC,GAAD,OAC3BC,YAAa,CACXqM,YAAY,aACVhM,MAAO,OACPiG,aAAcvG,EAAMe,QAAQ,IAC3Bf,EAAMI,YAAYyG,GAAG,MAAQ,CAC5BvG,MAAO,MAGXiM,QAAQ,aACNjM,MAAO,OACP2F,QAAS,OACTuG,iBAAkB,OAClBC,QAASzM,EAAMe,QAAQ,IACtBf,EAAMI,YAAYyG,GAAG,MAAQ,CAC5B6F,oBAAqB,UACrBF,iBAAkB,OAClBxG,OAAQ,OACR7E,UAAW,MAGfwL,KAAM,CACJ7B,QAAS,EACTvC,UAAW,gCAEbqE,YAAa,CACX5G,OAAQ,QAEV,mBAAoB,CAClBwC,KAAM,CACJC,UAAW,oBACXqC,QAAS,GAEXpC,GAAI,CACFD,UAAW,gBACXqC,QAAS,QAwFF+B,GAlF+B,SAAC,GAA2B,IAAzB9F,EAAwB,EAAxBA,QAAS+F,EAAe,EAAfA,SAClD3K,EAAUrC,KADuD,EAEjCsC,IAAMC,SAAS,IAFkB,mBAEhE0K,EAFgE,KAEnDC,EAFmD,OAGjC5K,IAAMC,SAAiC,MAHN,mBAGhE4K,EAHgE,KAGnDC,EAHmD,OAI3B9K,IAAMC,UAAS,GAJY,mBAIhE8K,EAJgE,KAIhDC,EAJgD,KAMjEC,EAAcjL,IAAMkL,YAAN,sCAClB,WAAOzO,GAAP,eAAAC,EAAA,4DACEsO,GAAkB,GADpB,kBAGuBjB,EAAmBtN,GAH1C,OAGUkJ,EAHV,OAIImF,EAAenF,GACXA,GACFhB,EAAQwG,QAAR,oBAA6BxF,EAAK7E,KAAlC,YAA0C6E,EAAKP,UANrD,gDASI0F,EAAe,MATnB,QAWEE,GAAkB,GAXpB,uDADkB,sDAclB,CAACrG,IAGH3E,IAAMO,UAAU,WAAO,IACb6K,EAAMC,IAAGC,MAAMZ,EAASnG,QAAxB6G,EACR,GAAiB,kBAANA,GAAkBA,EAAEvG,OAAQ,CACrC,IAAMN,EAAS6G,EAAEvG,OACjB+F,EAAerG,GAGf,IAAMgH,EAAY/F,EAA+BjB,GAC3CiH,EAAgBhG,EAA+BmF,IAEnDY,EAAUzK,OAAS0K,EAAc1K,MAChCyK,EAAUzK,OAAS0K,EAAc1K,MAChC0K,EAAcpG,SACdmG,EAAUnG,UAAYoG,EAAcpG,UAEtC6F,EAAY1G,QAGdyG,GAAkB,IAEnB,CAACN,EAAUC,EAAaM,IAc3B,OACE,oCACE,kBAAC,EAAD,CAAarL,aAAc+K,EAAa9K,SAd3B,SAACY,GACZA,GACFkE,EAAQC,KAAR,oBAA0BnE,EAAMoE,UAY4B5C,UAAWlC,EAAQmK,cAC9Ea,EACC,kBAACrI,EAAA,EAAD,CAAkBC,KAAM,KACtBkI,EACF,yBAAK5I,UAAWlC,EAAQoK,SACtB,kBAACsB,EAAA,EAAD,CAAM1L,QAAS,CAAEqC,KAAMrC,EAAQwK,OAC7B,kBAACmB,EAAA,EAAD,CAAa3L,QAAS,CAAEqC,KAAMrC,EAAQyK,cACpC,kBAAC,EAAD,CAAc7E,KAAMkF,MAGxB,kBAACY,EAAA,EAAD,CAAM1L,QAAS,CAAEqC,KAAMrC,EAAQwK,OAC7B,kBAACmB,EAAA,EAAD,CAAa3L,QAAS,CAAEqC,KAAMrC,EAAQyK,cACpC,kBAAC,GAAD,CAAgB1J,KAAM+J,EAAY/J,KAAMjB,SApB5B,SAACuF,GACnByF,GACFlG,EAAQC,KAAR,oBAA0BiG,EAAY/J,KAAtC,YAA8CsE,UAuB5C,kBAAC3B,EAAA,EAAD,CAAYtB,QAAQ,aAApB,uB,UC3FOwJ,GAjCgC,WAC7C,OACE,kBAACF,EAAA,EAAD,KACE,kBAACC,EAAA,EAAD,KACE,kBAACjI,EAAA,EAAD,CAAYtB,QAAQ,MAApB,WACA,kFACuD,IACrD,kBAACyJ,GAAA,EAAD,CAAMC,KAAK,4BAAX,gBAFF,KAIA,iDACoB,IAClB,kBAACD,GAAA,EAAD,CAAMC,KAAK,8CAA8CrF,MAAM,cAA/D,cAEQ,IAJV,OAKO,IACL,kBAACoF,GAAA,EAAD,CAAMC,KAAK,4BAA4BrF,MAAM,YAA7C,oBAEQ,IARV,iBASiB,IACf,kBAACoF,GAAA,EAAD,CACEC,KAAK,8CACLrF,MAAM,0BACNsF,OAAO,UAHT,aAVF,Q,mBCTFlO,GAAQmO,aAAe,CAC3B1N,QAAS,CACPgG,QAAS,CAAEC,KAAM,WACjB2D,UAAW,CAAE3D,KAAM,cAMR0H,GAFS,SAAC,GAAD,IAAGC,EAAH,EAAGA,SAAH,OAAkB,kBAACC,GAAA,EAAD,CAAetO,MAAOA,IAAQqO,ICNlEvO,GAAYC,YAAW,SAACC,GAAD,OAC3BC,YAAa,CACXsO,OAAQ,CACNC,UAAW,aACXjI,aAAcvG,EAAMe,QAAQ,IAE9B0N,WAAY,CACVC,eAAgB,OAChB9N,MAAO,WAET4F,IAAK,CACH5F,MAAOZ,EAAMS,QAAQgG,QAAQC,UAmBpBiI,GAdU,WACvB,IAAMxM,EAAUrC,KAEhB,OACE,yBAAKuE,UAAWlC,EAAQoM,QACtB,kBAAC,IAAD,CAAM7F,GAAG,IAAIrE,UAAWlC,EAAQsM,YAC9B,kBAAC5I,EAAA,EAAD,CAAYtB,QAAQ,KAAKuB,UAAU,MAAnC,SACQ,0BAAMzB,UAAWlC,EAAQqE,KAAzB,YCvBV1G,GAAYC,YAAW,SAACC,GAAD,OAC3BC,YAAa,CACX2O,OAAQ,CACNhI,UAAW5G,EAAMe,QAAQ,QAkBhB4N,GAbU,WACvB,IAAMxM,EAAUrC,KAEhB,OACE,yBAAKuE,UAAWlC,EAAQyM,QACtB,kBAACZ,GAAA,EAAD,CAAMlI,UAAW+I,IAAYnG,GAAG,YAAhC,WAEQ,IAHV,+BAIoB,kBAACsF,GAAA,EAAD,CAAMC,KAAK,+BAAX,sBChBlBnO,GAAYC,YAAW,SAACC,GAAD,OAC3BC,YAAa,CACXuE,KAAM,CACJyB,QAAS,OACTC,cAAe,SACfE,WAAY,SACZ7E,QAASvB,EAAMe,QAAQ,EAAG,GAC1B+N,SAAU,KACVxN,OAAQ,QAEVyN,QAAS,CACP1I,UAAW,SACXJ,QAAS,OACTC,cAAe,SACfE,WAAY,SACZ4I,UAAW,sBACX1O,MAAO,YAiBE2O,GAZU,SAAC,GAAkB,IAAhBZ,EAAe,EAAfA,SACpBlM,EAAUrC,KAEhB,OACE,yBAAKuE,UAAWlC,EAAQqC,MACtB,kBAAC,GAAD,MACA,yBAAKH,UAAWlC,EAAQ4M,SAAUV,GAClC,kBAACa,GAAD,QCvBNC,IAASC,OACP,kBAAC,IAAD,KACE,kBAAC,GAAD,KACE,kBAACC,EAAA,EAAD,MACA,kBAAC,GAAD,KACE,kBAAC,IAAD,CAAOC,KAAK,IAAIC,OAAK,EAACzJ,UAAWgB,IACjC,kBAAC,IAAD,CAAOwI,KAAK,UAAUxJ,UAAW+G,KACjC,kBAAC,IAAD,CAAOyC,KAAK,WAAWxJ,UAAWiI,QAIxCyB,SAASC,eAAe,U","file":"static/js/main.758eb32e.chunk.js","sourcesContent":["import React from 'react'\n\ninterface Props {\n  [key: string]: any\n}\n\nconst Logo: React.FC<Props> = props => {\n  return (\n    <div {...props}>\n      <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 512 512\">\n        <path\n          fill=\"#af8066\"\n          d=\"M140.977 164.689l-88.011 38.312L0 247.139l52.966 23.04v153.512L256 511.967l203.034-88.276-.264-.088.264-.707V269.385L512 246.345l-52.966-44.138v.794l-86.775-37.694\"\n        />\n        <path\n          d=\"M459.034 203.001l-202.417 88.011-.617.265-203.034-88.276 88.011-38.312c26.218 34.692 74.681 68.061 115.906 91.277 41.048-23.04 89.159-56.232 115.377-90.659l86.774 37.694z\"\n          fill=\"#7f8c8d\"\n        />\n        <path\n          fill=\"#af8066\"\n          d=\"M459.034 422.896l-.264.707.264.088L256 511.967v-220.69l.618-.265 52.348 43.608 150.068-65.235z\"\n        />\n        <path fill=\"#7f5b53\" d=\"M256 291.277v220.69L52.966 423.691V270.179l150.068 65.236z\" />\n        <path\n          fill=\"#cbb292\"\n          d=\"M256 291.277l-52.966 44.138-150.068-65.236L0 247.139l52.966-44.138z\"\n        />\n        <path\n          fill=\"#fdd7ad\"\n          d=\"M512 246.345l-52.966 23.04-150.068 65.235-52.348-43.608 202.416-88.011v-.794z\"\n        />\n        <path\n          d=\"M382.499 149.947c-2.99 5.39-6.414 10.527-10.24 15.36-26.218 34.428-74.328 67.619-115.377 90.659-41.225-23.217-89.688-56.585-115.906-91.277-3.592-4.671-6.837-9.598-9.71-14.742-31.338-53.054-31.338-106.019 0-132.59 19.619-14.937 44.77-20.591 68.895-15.488s44.831 20.457 56.722 42.059c11.893-21.6 32.599-36.952 56.723-42.054 24.123-5.103 49.273.55 68.894 15.483 31.426 26.571 31.426 79.537-.001 132.59z\"\n          fill=\"#ff5364\"\n        />\n        <g fill=\"#fb7b76\">\n          <path d=\"M176.552 61.76c-2.342.001-4.588-.928-6.244-2.584-1.656-1.656-2.585-3.902-2.584-6.244v-8.828c0-4.875 3.952-8.828 8.828-8.828s8.828 3.952 8.828 8.828v8.828c.001 2.342-.928 4.588-2.584 6.244-1.657 1.655-3.903 2.585-6.244 2.584zM176.552 105.898c-2.342.001-4.588-.928-6.244-2.584-1.656-1.656-2.585-3.902-2.584-6.244v-8.828c0-4.875 3.952-8.828 8.828-8.828s8.828 3.952 8.828 8.828v8.828c.001 2.342-.928 4.588-2.584 6.244-1.657 1.655-3.903 2.585-6.244 2.584zM158.897 79.415h-8.828c-4.875 0-8.828-3.952-8.828-8.828s3.952-8.828 8.828-8.828h8.828c4.875 0 8.828 3.952 8.828 8.828s-3.953 8.828-8.828 8.828zM203.034 79.415h-8.828c-4.875 0-8.828-3.952-8.828-8.828s3.952-8.828 8.828-8.828h8.828c4.875 0 8.828 3.952 8.828 8.828s-3.952 8.828-8.828 8.828z\" />\n        </g>\n      </svg>\n    </div>\n  )\n}\n\nexport default Logo\n","import ky from 'ky'\n\nexport interface Suggestion {\n  package: {\n    name: string\n    scope: string\n    version: string\n    description: string\n    keywords: string[]\n    date: string\n  }\n  score: {\n    final: number\n    detail: {\n      quality: number\n      popularity: number\n      maintenance: number\n    }\n  }\n  searchScore: number\n  highlight: string\n}\n\nexport const getPackagesSuggestions = async (query: string) => {\n  const suggestionSort = (packageA: Suggestion, packageB: Suggestion) => {\n    // Rank closely matching packages followed\n    // by most popular ones\n    // taken from bundlephobia source\n    if (Math.abs(Math.log(packageB.searchScore) - Math.log(packageA.searchScore)) > 1) {\n      return packageB.searchScore - packageA.searchScore\n    } else {\n      return packageB.score.detail.popularity - packageA.score.detail.popularity\n    }\n  }\n  try {\n    const suggestions: Suggestion[] = await ky\n      .get(`https://api.npms.io/v2/search/suggestions?q=${query}`)\n      .json()\n    return suggestions.sort(suggestionSort)\n  } catch (e) {\n    return []\n  }\n}\n","import React from 'react'\nimport Downshift from 'downshift'\nimport { useDebouncedCallback } from 'use-debounce'\nimport { makeStyles, Theme, createStyles } from '@material-ui/core/styles'\nimport {\n  InputAdornment,\n  TextField,\n  Typography,\n  MenuItem,\n  CircularProgress,\n  Paper,\n} from '@material-ui/core'\nimport SearchIcon from '@material-ui/icons/Search'\nimport { getPackagesSuggestions, Suggestion } from 'services/npms'\n\ninterface Props {\n  initialValue?: string\n  onSelect: (value: string) => void\n  [key: string]: any\n}\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    container: {\n      position: 'relative',\n      [theme.breakpoints.down('md')]: {\n        width: '100%',\n      },\n    },\n    input: {\n      background: theme.palette.common.white,\n      color: 'inherit',\n      width: '100%',\n    },\n    spinner: {\n      marginRight: theme.spacing(2),\n    },\n    suggestionsContainer: {\n      position: 'absolute',\n      left: 0,\n      right: 0,\n      maxHeight: '35vh',\n      overflow: 'auto',\n    },\n    suggestionsList: {\n      margin: 0,\n      padding: 0,\n      listStyleType: 'none',\n    },\n    suggestion: {\n      lineHeight: 1.2,\n      padding: '4px 0',\n      width: '100%',\n      '& em': {\n        fontWeight: 'bold',\n        fontStyle: 'normal',\n      },\n    },\n    suggestionDescription: {\n      textOverflow: 'ellipsis',\n      overflow: 'hidden',\n    },\n  })\n)\n\nexport default function Search({ initialValue, onSelect, ...otherProps }: Props) {\n  const classes = useStyles()\n  const [inputValue, setInputValue] = React.useState(initialValue || '')\n  const [suggestions, setSuggestions] = React.useState<Suggestion[]>([])\n  const [isSearching, setIsSearching] = React.useState(false)\n\n  React.useEffect(() => {\n    if (initialValue) {\n      setInputValue(initialValue)\n    }\n  }, [initialValue])\n\n  const onSuggestionSelected = (suggestion: Suggestion) => {\n    onSelect(suggestion.package.name)\n  }\n\n  const [fetchSuggestions] = useDebouncedCallback(async (value: any) => {\n    setIsSearching(true)\n    const suggestions = await getPackagesSuggestions(value)\n    setSuggestions(suggestions)\n    setIsSearching(false)\n  }, 300)\n\n  const onInputValueChange = (value: string) => {\n    setInputValue(value)\n    if (value) {\n      fetchSuggestions(value)\n    }\n  }\n\n  return (\n    <div {...otherProps}>\n      <Downshift\n        id=\"downshift-simple\"\n        inputValue={inputValue}\n        onChange={onSuggestionSelected}\n        onInputValueChange={onInputValueChange}\n        itemToString={(suggestion: Maybe<Suggestion>) =>\n          suggestion ? suggestion.package.name : ''\n        }\n        defaultHighlightedIndex={0}\n      >\n        {({\n          getInputProps,\n          getItemProps,\n          getLabelProps,\n          getMenuProps,\n          highlightedIndex,\n          inputValue,\n          isOpen,\n          openMenu,\n          closeMenu,\n        }) => {\n          const { onBlur, onFocus, ...inputProps } = getInputProps({\n            placeholder: 'find package',\n            onFocus: openMenu,\n            onBlur: (e: React.SyntheticEvent<HTMLInputElement>) => {\n              closeMenu()\n              // @ts-ignore https://github.com/downshift-js/downshift/issues/734\n              e.nativeEvent.preventDownshiftDefault = true\n            },\n          })\n\n          return (\n            <div className={classes.container}>\n              <TextField\n                name=\"search\"\n                variant=\"outlined\"\n                classes={{\n                  root: classes.input,\n                }}\n                InputLabelProps={getLabelProps()}\n                InputProps={{\n                  onBlur,\n                  onFocus,\n                  startAdornment: (\n                    <InputAdornment position=\"start\">\n                      <SearchIcon color=\"primary\" />\n                    </InputAdornment>\n                  ),\n                  endAdornment: isSearching && (\n                    <InputAdornment position=\"end\">\n                      <CircularProgress\n                        color=\"secondary\"\n                        size={20}\n                        thickness={4}\n                        className={classes.spinner}\n                      />\n                    </InputAdornment>\n                  ),\n                }}\n                inputProps={inputProps}\n              />\n              <div {...getMenuProps()} className={classes.suggestionsContainer}>\n                {isOpen ? (\n                  <Paper square>\n                    {suggestions.map((suggestion, index) => (\n                      <MenuItem\n                        {...getItemProps({ item: suggestion })}\n                        selected={highlightedIndex === index}\n                        dense\n                        key={suggestion.package.name}\n                      >\n                        <div className={classes.suggestion}>\n                          <div dangerouslySetInnerHTML={{ __html: suggestion.highlight }} />\n                          <Typography\n                            variant=\"caption\"\n                            component=\"div\"\n                            className={classes.suggestionDescription}\n                          >\n                            {suggestion.package.description}\n                          </Typography>\n                        </div>\n                      </MenuItem>\n                    ))}\n                  </Paper>\n                ) : null}\n              </div>\n            </div>\n          )\n        }}\n      </Downshift>\n    </div>\n  )\n}\n","import React from 'react'\nimport { RouteComponentProps } from 'react-router'\nimport { Typography } from '@material-ui/core'\nimport { makeStyles, Theme, createStyles } from '@material-ui/core/styles'\nimport Logo from 'components/Logo'\nimport SearchInput from 'components/SearchInput'\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    root: {\n      height: '100%',\n      display: 'flex',\n      flexDirection: 'column',\n      justifyContent: 'center',\n      alignItems: 'center',\n      textAlign: 'center',\n    },\n    logo: {\n      width: 100,\n      height: 100,\n      marginBottom: theme.spacing(3),\n    },\n    red: {\n      color: theme.palette.primary.main,\n    },\n    search: {\n      marginTop: theme.spacing(3),\n      marginBottom: '35vh',\n      width: '100%',\n      [theme.breakpoints.up('sm')]: {\n        width: 400,\n      },\n    },\n  })\n)\n\nconst Home: React.FC<RouteComponentProps> = ({ history }) => {\n  const classes = useStyles()\n\n  const onSelect = (value: string) => {\n    if (value) {\n      history.push(`/result?p=${value.trim()}`)\n    }\n  }\n\n  return (\n    <div className={classes.root}>\n      <Logo className={classes.logo} />\n      <Typography variant=\"h3\" component=\"h1\">\n        Bundle<span className={classes.red}>Love</span>\n      </Typography>\n      <Typography variant=\"subtitle1\">\n        find the cost of adding a npm package to your bundle\n      </Typography>\n      <SearchInput onSelect={onSelect} className={classes.search} />\n    </div>\n  )\n}\n\nexport default Home\n","export const getNameAndVersion = (query: string): { name: string; version?: string } => {\n  if (query.includes('@')) {\n    if (query.startsWith('@')) {\n      const lastAtIndex = query.lastIndexOf('@')\n      if (lastAtIndex === 0) {\n        return { name: query }\n      } else {\n        return {\n          name: query.substring(0, lastAtIndex),\n          version: query.substring(lastAtIndex + 1),\n        }\n      }\n    } else {\n      const [name, version] = query.split('@')\n      return { name, version }\n    }\n  }\n  return { name: query }\n}\n","import ky from 'ky'\nimport * as packageUtils from 'utils/package'\n\nexport interface PackageInfo {\n  name: string\n  version: string\n  description: string\n  repository: string\n  size: number\n  gzip: number\n  dependencySizes: Array<{\n    name: string\n    approximateSize: number\n  }>\n}\n\ninterface PackageHistoryItem {\n  version: string\n  size: number\n  gzip: number\n}\n\nexport type PackageHistory = PackageHistoryItem[]\n\nconst API_URL =\n  process.env.NODE_ENV === 'production'\n    ? 'https://bohq9elnw2.execute-api.eu-west-3.amazonaws.com/prod'\n    : 'http://localhost:3001'\n\nexport const getPackageInfo = async (query: string) => {\n  const { name, version } = packageUtils.getNameAndVersion(query)\n  try {\n    const info: PackageInfo = await ky\n      .get(`${API_URL}/stats`, {\n        searchParams: {\n          name,\n          ...(version && { version }),\n        },\n        timeout: 30000,\n      })\n      .json()\n    return info\n  } catch (e) {\n    return null\n  }\n}\n\nexport const getPackageHistory = async (name: string) => {\n  try {\n    const history: PackageHistory = await ky\n      .get(`${API_URL}/history`, {\n        searchParams: {\n          name,\n        },\n        timeout: 30000,\n      })\n      .json()\n    return history\n  } catch (e) {\n    return null\n  }\n}\n","// taken from https://github.com/pastelsky/bundlephobia/blob/bundlephobia/utils/index.js\n\nexport const formatSize = (value: number) => {\n  let unit, size\n  if (Math.log10(value) < 3) {\n    unit = 'B'\n    size = value\n  } else if (Math.log10(value) < 6) {\n    unit = 'kB'\n    size = value / 1024\n  } else {\n    unit = 'mB'\n    size = value / 1024 / 1024\n  }\n\n  return { unit, size }\n}\n\nexport const formatTime = (value: number) => {\n  let unit, size\n  if (value < 0.5) {\n    unit = 'ms'\n    size = Math.round(value * 1000)\n  } else {\n    unit = 's'\n    size = value\n  }\n\n  return { unit, size }\n}\n\nconst DownloadSpeed = {\n  TWO_G: 30, // 2G Edge\n  THREE_G: 50, // Emerging markets 3G\n}\nexport const getTimeFromSize = (sizeInBytes: number) => {\n  return {\n    twoG: sizeInBytes / 1024 / DownloadSpeed.TWO_G,\n    threeG: sizeInBytes / 1024 / DownloadSpeed.THREE_G,\n  }\n}\n","import React from 'react'\nimport { useId } from 'react-id-generator'\nimport { makeStyles, Theme, createStyles } from '@material-ui/core/styles'\nimport { Typography } from '@material-ui/core'\nimport * as formatUtils from 'utils/format'\n\ninterface Props {\n  title: string\n  value: number\n  unitType: 'time' | 'size'\n}\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    statsRow: {\n      display: 'flex',\n      justifyContent: 'space-evenly',\n    },\n    number: {\n      animation: '$grow 0.4s ease-in',\n    },\n    unit: {\n      color: theme.palette.primary.main,\n    },\n    '@keyframes grow': {\n      from: {\n        transform: 'scale(0)',\n      },\n      to: {\n        transform: 'scale(1)',\n      },\n    },\n  })\n)\n\nconst Stat: React.FC<Props> = ({ title, value, unitType }) => {\n  const classes = useStyles()\n  const { size, unit } =\n    unitType === 'size' ? formatUtils.formatSize(value) : formatUtils.formatTime(value)\n  const roundedSize =\n    unitType === 'size' ? parseFloat(size.toFixed(1)) : parseFloat(size.toFixed(2))\n  const [htmlId] = useId()\n  return (\n    <div>\n      <div aria-labelledby={htmlId} className={classes.number}>\n        <Typography variant=\"h3\" component=\"span\">\n          {roundedSize}\n        </Typography>\n        <Typography variant=\"h5\" component=\"span\" className={classes.unit}>\n          {unit}\n        </Typography>{' '}\n      </div>\n      <Typography id={htmlId} variant=\"overline\">\n        {title}\n      </Typography>\n    </div>\n  )\n}\nexport default Stat\n","import React from 'react'\nimport { makeStyles, Theme, createStyles } from '@material-ui/core/styles'\nimport { Divider, Typography } from '@material-ui/core'\nimport { PackageInfo } from 'services/api'\nimport Stat from './Stat'\nimport * as formatUtils from 'utils/format'\n\ninterface Props {\n  info: PackageInfo\n}\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    root: {\n      display: 'flex',\n      flexDirection: 'column',\n      justifyContent: 'center',\n      height: '100%',\n    },\n    statsRow: {\n      display: 'flex',\n      justifyContent: 'space-evenly',\n    },\n    title: {\n      marginBottom: theme.spacing(1),\n      textTransform: 'uppercase',\n      color: theme.palette.grey[500],\n    },\n    divider: {\n      margin: theme.spacing(2, 0),\n    },\n  })\n)\n\nconst PackageStats: React.FC<Props> = ({ info }) => {\n  const classes = useStyles()\n  const times = formatUtils.getTimeFromSize(info.gzip)\n  return (\n    <div className={classes.root}>\n      <Typography variant=\"h5\" className={classes.title}>\n        Bundle size\n      </Typography>\n      <div className={classes.statsRow}>\n        <Stat title=\"minified\" value={info.size} unitType=\"size\" />\n        <Stat title=\"minified + gzipped\" value={info.gzip} unitType=\"size\" />\n      </div>\n      <Divider className={classes.divider} />\n      <Typography variant=\"h5\" className={classes.title}>\n        Download time\n      </Typography>\n      <div className={classes.statsRow}>\n        <Stat title=\"2G Edge\" value={times.twoG} unitType=\"time\" />\n        <Stat title=\"Emerging 3G\" value={times.threeG} unitType=\"time\" />\n      </div>\n    </div>\n  )\n}\nexport default PackageStats\n","import React from 'react'\nimport { darken, makeStyles, Theme, createStyles } from '@material-ui/core/styles'\nimport { Tooltip, Typography } from '@material-ui/core'\nimport { PackageHistory } from 'services/api'\nimport * as formatUtils from 'utils/format'\n\ninterface Props {\n  history: PackageHistory\n  onSelect: (version: string) => void\n}\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    root: {\n      width: '100%',\n      height: '40vh',\n      maxHeight: 250,\n      paddingBottom: 50,\n      display: 'flex',\n      justifyContent: 'center',\n      alignItems: 'flex-end',\n      [theme.breakpoints.up('sm')]: {\n        height: '100%',\n      },\n    },\n    bar: {\n      cursor: 'pointer',\n      margin: theme.spacing(0, 1),\n      width: 40,\n      position: 'relative',\n      bottom: 0,\n      '&:hover $sizeBar ': {\n        background: darken(theme.palette.secondary.main, 0.1),\n      },\n      '&:hover $gzipBar ': {\n        background: darken(theme.palette.primary.main, 0.1),\n      },\n      '&:hover $barLabel ': {\n        fontWeight: 'bold',\n      },\n    },\n    sizeBar: {\n      background: theme.palette.secondary.main,\n      width: '100%',\n      height: '100%',\n      borderRadius: 5,\n      transition: 'background 0.2s',\n      transformOrigin: '100% 100%',\n      animation: '$grow 0.4s ease-in',\n    },\n    gzipBar: {\n      position: 'absolute',\n      bottom: 0,\n      background: theme.palette.primary.main,\n      width: '100%',\n      borderBottomLeftRadius: 5,\n      borderBottomRightRadius: 5,\n      transition: 'background 0.2s',\n      transformOrigin: '100% 100%',\n      animation: '$grow 0.4s ease-in',\n    },\n    barLabel: {\n      position: 'absolute',\n      bottom: -40,\n      left: 4,\n      transform: 'rotate(270deg)',\n      opacity: 0,\n      animation: '$fade 0.5s 0.1s forwards ease-in',\n    },\n    '@keyframes grow': {\n      from: {\n        transform: 'scaleY(0)',\n      },\n      to: {\n        transform: 'scaleY(1)',\n      },\n    },\n    '@keyframes fade': {\n      from: {\n        opacity: 0,\n      },\n      to: {\n        opacity: 1,\n      },\n    },\n  })\n)\n\nconst Charts: React.FC<Props> = ({ history, onSelect }) => {\n  const classes = useStyles()\n  const maxSize = Math.max(...history.map(item => item.size))\n\n  return (\n    <figure className={classes.root}>\n      {history.map(item => {\n        const { size: gzipSize, unit: gzipUnit } = formatUtils.formatSize(item.gzip)\n        const { size: normalSize, unit: normalUnit } = formatUtils.formatSize(item.size)\n        const roundedGzip = parseFloat(gzipSize.toFixed(1))\n        const roundedNormal = parseFloat(normalSize.toFixed(1))\n\n        const tooltipTitle = `Minified: ${roundedNormal}${normalUnit} | Gzipped: ${roundedGzip}${gzipUnit}`\n        return (\n          <Tooltip\n            title={tooltipTitle}\n            aria-label={`${item.version}: ${tooltipTitle}`}\n            placement=\"top\"\n            key={item.version}\n            onClick={() => onSelect(item.version)}\n          >\n            <div className={classes.bar} style={{ height: `${(item.size / maxSize) * 100}%` }}>\n              <div className={classes.sizeBar} />\n              <div\n                className={classes.gzipBar}\n                style={{ height: `${(item.gzip / item.size) * 100}%` }}\n              />\n              <Typography variant=\"caption\" className={classes.barLabel}>\n                {item.version}\n              </Typography>\n            </div>\n          </Tooltip>\n        )\n      })}\n    </figure>\n  )\n}\nexport default Charts\n","import React from 'react'\nimport { makeStyles, Theme, createStyles } from '@material-ui/core/styles'\nimport { CircularProgress, Typography } from '@material-ui/core'\nimport * as api from 'services/api'\nimport Charts from './Charts'\n\ninterface Props {\n  name: string\n  onSelect: (version: string) => void\n}\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    root: {\n      display: 'flex',\n      justifyContent: 'center',\n      alignItems: 'center',\n      height: '100%',\n    },\n  })\n)\n\nconst PackageHistory: React.FC<Props> = ({ name, onSelect }) => {\n  const classes = useStyles()\n  const [packageHistory, setPackageHistory] = React.useState<Maybe<api.PackageHistory>>(null)\n  const [isFetchingHistory, setIsFetchingHistory] = React.useState(true)\n\n  React.useEffect(() => {\n    async function call() {\n      setIsFetchingHistory(true)\n      try {\n        const pHistory = await api.getPackageHistory(name)\n        setPackageHistory(pHistory)\n      } catch (e) {\n        setPackageHistory(null)\n      }\n      setIsFetchingHistory(false)\n    }\n    call()\n  }, [name])\n\n  return (\n    <div className={classes.root}>\n      {isFetchingHistory ? (\n        <CircularProgress size={30} />\n      ) : packageHistory ? (\n        <Charts history={packageHistory} onSelect={onSelect} />\n      ) : (\n        <Typography variant=\"subtitle1\">Could not get history</Typography>\n      )}\n    </div>\n  )\n}\nexport default PackageHistory\n","import React from 'react'\nimport { RouteComponentProps } from 'react-router'\nimport qs from 'query-string'\nimport { Card, CardContent, CircularProgress, Typography } from '@material-ui/core'\nimport { makeStyles, Theme, createStyles } from '@material-ui/core/styles'\nimport SearchInput from 'components/SearchInput'\nimport * as api from 'services/api'\nimport * as packageUtils from 'utils/package'\nimport PackageStats from 'components/PackageStats'\nimport PackageHistory from 'components/PackageHistory'\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    searchInput: {\n      width: '100%',\n      marginBottom: theme.spacing(3),\n      [theme.breakpoints.up('sm')]: {\n        width: 400,\n      },\n    },\n    infoRow: {\n      width: '100%',\n      display: 'grid',\n      gridTemplateRows: 'auto',\n      gridGap: theme.spacing(3),\n      [theme.breakpoints.up('sm')]: {\n        gridTemplateColumns: '1fr 1fr',\n        gridTemplateRows: 'none',\n        height: '60vh',\n        maxHeight: 360,\n      },\n    },\n    card: {\n      opacity: 0,\n      animation: '$slide 0.4s forwards ease-in',\n    },\n    cardContent: {\n      height: '100%',\n    },\n    '@keyframes slide': {\n      from: {\n        transform: 'translateX(-50px)',\n        opacity: 0,\n      },\n      to: {\n        transform: 'translateX(0)',\n        opacity: 1,\n      },\n    },\n  })\n)\n\nconst Result: React.FC<RouteComponentProps> = ({ history, location }) => {\n  const classes = useStyles()\n  const [searchValue, setSearchValue] = React.useState('')\n  const [packageInfo, setPackageInfo] = React.useState<Maybe<api.PackageInfo>>(null)\n  const [isFetchingInfo, setIsFetchingInfo] = React.useState(true)\n\n  const onNewSearch = React.useCallback(\n    async (query: string) => {\n      setIsFetchingInfo(true)\n      try {\n        const info = await api.getPackageInfo(query)\n        setPackageInfo(info)\n        if (info) {\n          history.replace(`/result?p=${info.name}@${info.version}`)\n        }\n      } catch (e) {\n        setPackageInfo(null)\n      }\n      setIsFetchingInfo(false)\n    },\n    [history]\n  )\n\n  React.useEffect(() => {\n    const { p } = qs.parse(location.search)\n    if (typeof p === 'string' && p.trim()) {\n      const search = p.trim()\n      setSearchValue(search)\n\n      // only submit the search if the requested package has really changed\n      const newSearch = packageUtils.getNameAndVersion(search)\n      const currentSearch = packageUtils.getNameAndVersion(searchValue)\n      if (\n        newSearch.name !== currentSearch.name ||\n        (newSearch.name === currentSearch.name &&\n          currentSearch.version &&\n          newSearch.version !== currentSearch.version)\n      ) {\n        onNewSearch(search)\n      }\n    } else {\n      setIsFetchingInfo(false)\n    }\n  }, [location, searchValue, onNewSearch])\n\n  const onSelect = (value: string) => {\n    if (value) {\n      history.push(`/result?p=${value.trim()}`)\n    }\n  }\n\n  const onVersionSelect = (version: string) => {\n    if (packageInfo) {\n      history.push(`/result?p=${packageInfo.name}@${version}`)\n    }\n  }\n\n  return (\n    <>\n      <SearchInput initialValue={searchValue} onSelect={onSelect} className={classes.searchInput} />\n      {isFetchingInfo ? (\n        <CircularProgress size={50} />\n      ) : packageInfo ? (\n        <div className={classes.infoRow}>\n          <Card classes={{ root: classes.card }}>\n            <CardContent classes={{ root: classes.cardContent }}>\n              <PackageStats info={packageInfo} />\n            </CardContent>\n          </Card>\n          <Card classes={{ root: classes.card }}>\n            <CardContent classes={{ root: classes.cardContent }}>\n              <PackageHistory name={packageInfo.name} onSelect={onVersionSelect} />\n            </CardContent>\n          </Card>\n        </div>\n      ) : (\n        <Typography variant=\"subtitle1\">Package not found</Typography>\n      )}\n    </>\n  )\n}\n\nexport default Result\n","import React from 'react'\nimport { RouteComponentProps } from 'react-router'\nimport { Card, CardContent, Link, Typography } from '@material-ui/core'\n\nconst Credits: React.FC<RouteComponentProps> = () => {\n  return (\n    <Card>\n      <CardContent>\n        <Typography variant=\"h5\">Credits</Typography>\n        <p>\n          All this application is purely a copy of the awesome{' '}\n          <Link href=\"https://bundlephobia.com\">BundlePhobia</Link>.\n        </p>\n        <div>\n          Logo icon made by{' '}\n          <Link href=\"https://www.flaticon.com/authors/smashicons\" title=\"Smashicons\">\n            Smashicons\n          </Link>{' '}\n          from{' '}\n          <Link href=\"https://www.flaticon.com/\" title=\"Flaticon\">\n            www.flaticon.com\n          </Link>{' '}\n          is licensed by{' '}\n          <Link\n            href=\"http://creativecommons.org/licenses/by/3.0/\"\n            title=\"Creative Commons BY 3.0\"\n            target=\"_blank\"\n          >\n            CC 3.0 BY\n          </Link>\n          .\n        </div>\n      </CardContent>\n    </Card>\n  )\n}\n\nexport default Credits\n","import React from 'react'\nimport { createMuiTheme } from '@material-ui/core/styles'\nimport { ThemeProvider } from '@material-ui/styles'\n\nconst theme = createMuiTheme({\n  palette: {\n    primary: { main: '#ff5364' },\n    secondary: { main: '#ffc624' },\n  },\n})\n\nconst Theme: React.FC = ({ children }) => <ThemeProvider theme={theme}>{children}</ThemeProvider>\n\nexport default Theme\n","import React from 'react'\nimport { Link } from 'react-router-dom'\nimport { Typography } from '@material-ui/core'\nimport { makeStyles, Theme, createStyles } from '@material-ui/core/styles'\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    header: {\n      alignSelf: 'flex-start',\n      marginBottom: theme.spacing(2),\n    },\n    headerLink: {\n      textDecoration: 'none',\n      color: 'initial',\n    },\n    red: {\n      color: theme.palette.primary.main,\n    },\n  })\n)\n\nconst Header: React.FC = () => {\n  const classes = useStyles()\n\n  return (\n    <div className={classes.header}>\n      <Link to=\"/\" className={classes.headerLink}>\n        <Typography variant=\"h5\" component=\"h1\">\n          Bundle<span className={classes.red}>Love</span>\n        </Typography>\n      </Link>\n    </div>\n  )\n}\n\nexport default Header\n","import React from 'react'\nimport { Link as RouterLink } from 'react-router-dom'\nimport { Link } from '@material-ui/core'\nimport { makeStyles, Theme, createStyles } from '@material-ui/core/styles'\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    footer: {\n      marginTop: theme.spacing(3),\n    },\n  })\n)\n\nconst Header: React.FC = () => {\n  const classes = useStyles()\n\n  return (\n    <div className={classes.footer}>\n      <Link component={RouterLink} to=\"/credits\">\n        Credits\n      </Link>{' '}\n      - Made with ❤️ by <Link href=\"https://valentin-hervieu.fr\">Valentin Hervieu</Link>\n    </div>\n  )\n}\n\nexport default Header\n","import React from 'react'\nimport { makeStyles, Theme, createStyles } from '@material-ui/core/styles'\nimport Header from 'components/Header'\nimport Footer from 'components/Footer'\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    root: {\n      display: 'flex',\n      flexDirection: 'column',\n      alignItems: 'center',\n      padding: theme.spacing(1, 2),\n      maxWidth: 1024,\n      margin: 'auto',\n    },\n    content: {\n      textAlign: 'center',\n      display: 'flex',\n      flexDirection: 'column',\n      alignItems: 'center',\n      minHeight: 'calc(100vh - 107px)', // 107px = header + footer + main padding\n      width: '100%',\n    },\n  })\n)\n\nconst Layout: React.FC = ({ children }) => {\n  const classes = useStyles()\n\n  return (\n    <div className={classes.root}>\n      <Header />\n      <div className={classes.content}>{children}</div>\n      <Footer />\n    </div>\n  )\n}\n\nexport default Layout\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport { BrowserRouter as Router, Route } from 'react-router-dom'\nimport { CssBaseline } from '@material-ui/core'\nimport Home from './Home'\nimport Result from './Result'\nimport Credits from './Credits'\nimport Theme from 'components/Theme'\nimport Layout from 'components/Layout'\n\nReactDOM.render(\n  <Router>\n    <Theme>\n      <CssBaseline />\n      <Layout>\n        <Route path=\"/\" exact component={Home} />\n        <Route path=\"/result\" component={Result} />\n        <Route path=\"/credits\" component={Credits} />\n      </Layout>\n    </Theme>\n  </Router>,\n  document.getElementById('root')\n)\n"],"sourceRoot":""}